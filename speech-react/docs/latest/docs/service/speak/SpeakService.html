<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
<meta charset="utf-8">
<style type="text/css">
@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

html {
    font-family: sans-serif;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%
}

body {
    min-width: 980px;
    font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
    /* color: #333; */
    background-color: #fff;
}

table {
    border-collapse: collapse;
    border-spacing: 0
}

td,th {
    padding: 0
}

summary {
    margin-bottom: 10px;
}

* {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}

.container {
    width: 980px;
    margin-right: auto;
    margin-left: auto
}

.container:before {
    display: table;
    content: ""
}

.container:after {
    display: table;
    clear: both;
    content: ""
}

.boxed-group {
    position: relative;
    border-radius: 3px;
    margin-bottom: 30px
}

#readme .markdown-body, #readme .plain {
    background-color: #fff;
    border: 1px solid #ddd;
    border-bottom-left-radius: 3px;
    border-bottom-right-radius: 3px;
    padding: 30px;
    word-wrap: break-word;
}

#readme .plain pre {
    font-size: 15px;
    white-space: pre-wrap
}

.repository-with-sidebar:before {
    display: table;
    content: ""
}

.repository-with-sidebar:after {
    display: table;
    clear: both;
    content: ""
}

.repository-with-sidebar .repository-sidebar {
    float: right;
    width: 38px
}

.repository-with-sidebar .repository-sidebar .sidebar-button {
    width: 100%;
    margin: 0 0 10px;
    text-align: center
}

.repository-with-sidebar .repository-sidebar h3 {
    margin-bottom: 5px;
    font-size: 11px;
    font-weight: normal;
    color: #999
}

.repository-with-sidebar .repository-sidebar .clone-url {
    display: none;
    margin-top: -5px
}

.repository-with-sidebar .repository-sidebar .clone-url.open {
    display: block
}

.repository-with-sidebar .repository-sidebar .clone-options {
    margin: 8px 0 15px;
    font-size: 11px;
    color: #666
}

.repository-with-sidebar .repository-sidebar .clone-options .octicon-question {
    position: relative;
    bottom: 1px;
    font-size: 11px;
    color: #000;
    cursor: pointer
}

.repository-with-sidebar .repository-content {
    /* float: left; */
    width: 920px;
}

.repository-with-sidebar.with-full-navigation .repository-content {
    width: 790px;
}

.repository-with-sidebar.with-full-navigation .repository-sidebar {
    width: 170px
}

.repository-with-sidebar.with-full-navigation .sunken-menu-group .tooltipped:before, .repository-with-sidebar.with-full-navigation .sunken-menu-group .tooltipped:after {
    display: none
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body strong {
  font-weight: bold;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code {
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body .octicon {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .octicon-link:before {
  content: '\f05c';
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .anchor {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

.markdown-body .pl-c {
  color: #969896;
}

.markdown-body .pl-c1,
.markdown-body .pl-mdh,
.markdown-body .pl-mm,
.markdown-body .pl-mp,
.markdown-body .pl-mr,
.markdown-body .pl-s1 .pl-v,
.markdown-body .pl-s3,
.markdown-body .pl-sc,
.markdown-body .pl-sv {
  color: #0086b3;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #795da3;
}

.markdown-body .pl-s1 .pl-s2,
.markdown-body .pl-smi,
.markdown-body .pl-smp,
.markdown-body .pl-stj,
.markdown-body .pl-vo,
.markdown-body .pl-vpf {
  color: #333;
}

.markdown-body .pl-ent {
  color: #63a35c;
}

.markdown-body .pl-k,
.markdown-body .pl-s,
.markdown-body .pl-st {
  color: #a71d5d;
}

.markdown-body .pl-pds,
.markdown-body .pl-s1,
.markdown-body .pl-s1 .pl-pse .pl-s2,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre,
.markdown-body .pl-src,
.markdown-body .pl-v {
  color: #df5000;
}

.markdown-body .pl-id {
  color: #b52a1d;
}

.markdown-body .pl-ii {
  background-color: #b52a1d;
  color: #f8f8f8;
}

.markdown-body .pl-sr .pl-cce {
  color: #63a35c;
  font-weight: bold;
}

.markdown-body .pl-ml {
  color: #693a17;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #1d3e81;
  font-weight: bold;
}

.markdown-body .pl-mq {
  color: #008080;
}

.markdown-body .pl-mi {
  color: #333;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #333;
  font-weight: bold;
}

.markdown-body .pl-md,
.markdown-body .pl-mdhf {
  background-color: #ffecec;
  color: #bd2c00;
}

.markdown-body .pl-mdht,
.markdown-body .pl-mi1 {
  background-color: #eaffea;
  color: #55a532;
}

.markdown-body .pl-mdr {
  color: #795da3;
  font-weight: bold;
}

.markdown-body .pl-mo {
  color: #1d3e81;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  display: inline-block;
  padding: 3px 5px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  line-height: 10px;
  color: #000;
  border: 1px solid #cfcfcf;
  border-radius: 2px;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  float: left;
  margin: 0.3em 0 0.25em -1.6em;
  vertical-align: middle;
}

.markdown-body :checked+.radio-label {
  z-index: 1;
  position: relative;
  border-color: #4183c4;
}
</style>
</head>
<body><div id="readme" class="container"><article class="markdown-body"><h1>SpeakService</h1>
<p>Der SpeakService dient zur Sprachsynthese von Texten und zum Abspielen von Audiosprachdateien. F&#xFC;r die Sprachsynthese wird das HTML5 SpeechSynthesis Web-API verwendet. Es kann auch der Amazon Cloud-Service verwendet werden. F&#xFC;r das Abspielen der Audiodateien wird das HTML5 Audio Web-API verwendet. Der gesamte Code l&#xE4;uft komplett im Browser. Der SpeakService erbt vom abstrakten <a href="./../base/BaseService.html">BaseService</a>.</p>
<h2>Architektur</h2>
<p>In der folgenden Grafik werden die einzelnen Schichten, angefangen von der ReactApp, &#xFC;ber den ServiceManager und den SpeakService von Speech-React, die Speak-Komponente in Speech-Framework, die Plugins f&#xFC;r TTS (Text-to-Speech) und AudioPlayer, bis hinunter zu den Standardschnittstellen des Browsers f&#xFC;r SpeechSynthesis und Audio, sowie dem Amazon Polly Server Google Server und Microsoft Server, dargestellt.</p>
<p><img src="SpeakService-1.gif" alt="SpeakService-Architektur"></p>
<p>Ganz oben sind die f&#xFC;r den SpeakService notwendigen Credentials dargestellt, die der ReactApp &#xFC;bergeben werden m&#xFC;ssen, wenn ein Cloud-Dienst als TTS zum Einsatz kommen soll. Eine Anleitung f&#xFC;r die Erstellung der Credentials und die Einbindung der Cloud-Module in die ReactApp zur Aktivierung des jeweiligen Cloud-Service findet man unter <a href="./../../cloud/Cloud.html">docs/cloud/Cloud.md</a></p>
<p>Die n&#xE4;chste Grafik zeigt die konkrete Vererbungsbeziehung zu BaseService, sowie die Einbindung von SpeakFactory und SpeakInterface aus dem Speech-Framework. SpeakFactory ist eine statische Klasse und erzeugt das Speak-Objekt zum SpeakInterface. Auf der linken Seite sind die Cloud-Module dargestellt, welche als statische Klassen implementiert sind und die Cloud-Singletons (Amazon, Google und Microsoft) aus dem Speech-Framework einbinden.
Damit die Cloud-Dienste funktionieren, m&#xFC;ssen die Credentials von den Cloud-Modulen an die Cloud-Singletons weitergereicht werden.</p>
<p><img src="SpeakService-2.gif" alt="SpeakService-Struktur"></p>
<h2>API</h2>
<p>Der SpeakService definiert die &#xF6;ffentliche Schnittstelle von Speech-React f&#xFC;r die Sprachausgabe. Die folgende Grafik zeigt einen &#xDC;berblick &#xFC;ber die gesamte API des SpeakServices. Die API teilt sich auf in statische Klassenfunktionen, Objektfunktionen, Objektereignisse und Objekteigenschaften. Die API verf&#xFC;gt &#xFC;ber eine auf Funktionen und eine auf Eigenschaften basierende Schnittstelle. Die gleiche Aufgabe kann &#xFC;ber Funktionsaufrufe oder &#xFC;ber das Setzen von Eigenschaften erledigt werden. Z.B. kann der zu sprechende Text entweder mit speakService.setText(&apos;Dies ist ein Text&apos;) oder mit speakService.text = &apos;Dies ist ein Text&apos; eingetragen werden, bevor mit speakService.start() die Sprachausgabe gestartet wird.</p>
<p><img src="SpeakService-3.gif" alt="SpeakService-API"></p>
<h2>Importieren</h2>
<p>Um den SpeakService importieren zu k&#xF6;nnen, muss in der jeweiligen Komponente folgende Zeile eingef&#xFC;gt werden:</p>
<pre><code>import { SPEECH_SEPAK_SERVICE, ServiceManager, SpeakService } from &apos;speech-react&apos;
</code></pre>
<p>Dazu m&#xFC;ssen das Spech-Framework und das Speech-React npm-Paket in der gleichen Version vorher ins eigene ReactApp-Projekt kopiert und installiert worden sein.</p>
<pre><code>$ npm install speech-framework-&lt;version&gt;.tgz
$ npm install speech-react-&lt;version&gt;.tgz
</code></pre>
<p>Alternativ kann man Speech-React aus dem globalen NPM-Repository installieren. Dann wird Speech-Framework automatisch mitinstalliert.</p>
<pre><code>$ npm install speech-react	
</code></pre>
<h2>Konfiguration</h2>
<p>Dier erste Aufgabe vor Nutzung des SpeakService besteht in der Festlegung der Konfiguration vor der Erzeugung des Services in React. In der Defaulteinstellung wird die init()-Funktion im Konstruktor aufgerufen und die voreingestellte Konfiguration &#xFC;bernommen. Will man die Defaultkonfiguration &#xFC;berschreiben, holt man sie sich mittels der Klassenfunktion SpeakService.getConfig(). Diese Funktion gibt das SpeakConfig-Objekt des SpeakServices zur&#xFC;ck.</p>
<p>Auszug aus der Datei: src/speech/speak/speak-service-config.ts:</p>
<pre><code>// hier sind die Defaultwerte des SpeakService festgelegt	
export const SpeakServiceConfig: SpeakServiceOptionInterface = {
    /** ein/ausschalten der Speak-Komponente */
    activeFlag: true,
    /** setzt die Sprache fuer die Sprachausgabe ( &apos;de&apos;, &apos;en&apos; )*/
    speakLanguage: &apos;de&apos;,
    /** Audioformat &apos;mp3&apos; oder &apos;wav&apos; */
    audioFormat: &apos;mp3&apos;,
    /** lokales Verzeichnis, in dem die Audiodateien liegen, z.B. &apos;assets/speech/audio/&apos; */
    audioFilePath: &apos;assets/&apos;,
    /** True, wenn Audiodateien abgespielt werden sollen, anstelle der Sprachsynthese */
    audioFlag: false,
    /** legt fest, ob die Fehlermeldungen zusaetzlich auf der Konsole ausgegeben werden */
    errorOutputFlag: false
};
</code></pre>
<h2>Sprachausgabe</h2>
<p>Um Sprache auszugeben, m&#xFC;ssen zuerst die Sprache und dann der auszugebende Text festgelegt werden. Hier hat man die Wahl zwischen den Funktionen zum Eintragen der Werte, oder den Eigenschaften. Die Sprache kann auch in der Konfiguration mit dem Parameter speakLanguage eingetragen werden. Es gibt zwei Konstanten f&#xFC;r die Sprache Deutsch (&apos;de&apos;) und Englisch (&apos;en&apos;), die immer verwendet werden sollten, wenn man die Sprache eintragen will. Hat man diese Werte eingetragen kann man die Sprachausgabe mit speakService.start() beginnen und mit speakService.stop() wieder beenden. Alternativ kann man auch die Sprachausgabe sich selbst beenden lassen. Nach dem Start der Sprachausgabe erh&#xE4;lt man das Ereignis startEvent und nach dem Ende der Sprachausgabe das Ereignis stopEvent. Falls ein Fehler auftritt, erh&#xE4;lt man das Ereignis errorEvent.</p>
<p>Beispiel-Komponente f&#xFC;r die Integration von Sprache:</p>
<pre><code>import React from &apos;react&apos;;

// SpeakService 
	
import { SPEECH_SPEAK_SERVICE, ServiceManager, SpeakService, SPEAK_DE_LANGUAGE, SPEAK_EN_LANGUAGE } from &apos;speech-react&apos;;


export class SpeakComponent extends React.Component {

	speakService: SpeakService = null;
	speakStartEvent = null;
	speakStopEvent = null;
	speakErrorEvent = null;

	constructor() {
		this.speakService = ServiceManager.get( SPEECH_SPEAK_SERVICE );
	}
	
	// Speak-Ereignisse eintragen
			
	componentDidMount() {
		this.speakStartEvent = speakService.startEvent.subscribe(() =&gt; console.log(&apos;Sprachausgabe gestartet&apos;));
		this.speakStopEvent = speakService.stopEvent.subscribe(() =&gt; console.log(&apos;Sprachausgabe beendet&apos;));
		this.speakErrorEvent = speakService.errorEvent.subscribe(aError =&gt; console.log(&apos;Sprachausgabe Fehler:&apos;, aError.message));
	}

	// Speak-Ereignisse freigeben
	
	componentWillUnmount() {
		this.speakStartEvent.unsubscribe();
		this.speakStopEvent.unsubscribe();
		this.speakErrorEvent.unsubscribe();
	}

	// eigene Funktionen fuer die Sprachausgabe in einer eigenen React-Komponente

	speakGerman( aText: string ) {
		this.speakService.language = SPEAK_DE_LANGUAGE;
		this.speakService.text = aText;
		this.speakService.start();
	}
	
	speakEnglish( aText: string )	{
		this.speakService.language = SPEAK_EN_LANGUAGE;
		this.speakService.text = aText;
		this.speakService.start();
	}	

	speakStop() {
		this.speakService.stop();
	}

  	render() {
    	return (
      		&lt;div&gt;
      			&lt;button onclick=&quot;speakGerman(&apos;Dies ist ein Text&apos;)&quot;&gt;
      				Sprachausgabe starten
				&lt;/button&gt;
      			&lt;button onclick=&quot;speakStop()&quot;&gt;
      				Sprachausgabe stoppen
				&lt;/button&gt;
     		&lt;/div&gt;
    	);
  	}

}
</code></pre>
<h2>Audiowiedergabe</h2>
<p>Die Audiowiedergabe verwendet vorgefertigte Audiosprachdateien f&#xFC;r die Sprachausgabe. Dies kann verwendet werden, um eine ReactApp mit Sprachausgaben auszustatten, die keinen Zugriff auf die Sprachsynthese hat. Dies trifft vor allem f&#xFC;r mobile Ger&#xE4;te zu. Ein weiterer Vorteil ist die Unabh&#xE4;ngigkeit vom Internet, da die Audiodateien lokal in der ReactApp gespeichert werden k&#xF6;nnen. Um Audiodateien abspielen zu k&#xF6;nnen, muss der SpeakService zuerst in den Audiomodus umgeschaltet werden. Dies wird mit der Funktion speakService.setAudioOn() durchgef&#xFC;hrt. Alternativ kann man auch die Audioeigenschaft verwenden und speakService.audio = true setzen. Der Audiomodus kann auch in der Konfiguration mit audioFlag auf true gesetzt werden. Neben dem Audiomodus m&#xFC;ssen noch das Audiodateienformat, das Audiodateienverzeichnis und der Audiodateiname vor dem Abspielen einer Audiosprachdatei festgelegt werden. Das Audiodateiformat und das Audiodateiverzeichnis lassen sich &#xFC;ber audioFormat und audioFilePath in der Konfiguration bereits setzen. Als Audioformat gibt es &apos;mp3&apos; und &apos;wav&apos;. Der Audiodateiname wird immer vor dem Abspielen der Audiosprachdatei eingetragen.</p>
<p>Beispiel-Komponente f&#xFC;r die Integration von Sprache:</p>
<pre><code>import React from &apos;react&apos;;

// SpeakService 
	
import { SPEECH_SPEAK_SERVICE, ServiceManager, SpeakService, SPEAK_DE_LANGUAGE, SPEAK_EN_LANGUAGE } from &apos;speech-react&apos;;


export class SpeakComponent extends React.Component {

	speakService: SpeakService = null;
	speakStartEvent = null;
	speakStopEvent = null;
	speakErrorEvent = null;

	
	constructor() {
		this.speakService = ServiceManager.get( SPEECH_SPEAK_SERVICE );
	}
	
	// Speak-Ereignisse eintragen
			
	componentDidMount() {
		this.speakStartEvent = speakService.startEvent.subscribe(() =&gt; console.log(&apos;Sprachausgabe gestartet&apos;));
		this.speakStopEvent = speakService.stopEvent.subscribe(() =&gt; console.log(&apos;Sprachausgabe beendet&apos;));
		this.speakErrorEvent = speakService.errorEvent.subscribe(aError =&gt; console.log(&apos;Sprachausgabe Fehler:&apos;, aError.message));
		// setzen von Audiodateiformat und Audiodateiverzeichnis
		this.speakService.format = &apos;mp3&apos;;
		this.speakService.path = &apos;assets/speech/audio/&apos;;
		// setzen des Audiomodus
		this.speakService.audio = true;
	}

	// Speak-Ereignisse freigeben
	
	componentWillUnmount() {
		this.speakStartEvent.unsubscribe();
		this.speakStopEvent.unsubscribe();
		this.speakErrorEvent.unsubscribe();
		// loeschen des Audiomodus
		this.speakService.audio = false;
	}

	// eigene Funktionen fuer die Wiedergabe einer Audiosprachdatei in einer eigenen Angular-Komponente

	speakPlay( aFileName: string ) {
		this.speakService.file = aFileName;
		this.speakService.start();
	}
	
	speakStop() {
		this.speakService.stop();
	}

  	render() {
    	return (
      		&lt;div&gt;
      			&lt;button onclick=&quot;speakPlay(&apos;AudioFile&apos;)&quot;&gt;
      				Sprachausgabe starten
				&lt;/button&gt;
      			&lt;button onclick=&quot;speakStop()&quot;&gt;
      				Sprachausgabe stoppen
				&lt;/button&gt;
     		&lt;/div&gt;
    	);
  	}

}
</code></pre>
</article></div></body></html>
